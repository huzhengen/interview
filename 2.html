<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>题目 2</title>
    <style>
      .parent {
        display: flex;
        justify-content: center;
        margin-top: 50px;
      }
      span {
        padding-left: 10px;
      }
    </style>
  </head>
  <body>
    <div class="parent">
      <label for="">账户：</label>
      <input type="text" value="" />
      <span style="display: none">用户名合法</span>
    </div>
    <script>
      const debounce = (fn, delay) => {
        let timer = null
        return (...args) => {
          if (timer !== null) {
            clearTimeout(timer)
          }
          timer = setTimeout(() => {
            fn.call(undefined, ...args)
            timer = null
          }, delay)
        }
      }

      const input = document.querySelector('input')

      const span = document.querySelector('span')

      const displaySpan = () => {
        span.style.display = 'block'
      }

      const debounceDisplay = () => debounce(displaySpan, 1000)

      input.addEventListener('input', debounceDisplay())
    </script>
  </body>
</html>
